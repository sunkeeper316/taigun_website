!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e=e||self).headlessui={},e.Vue)}(this,(function(e,t){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t.indexOf(n=i[o])>=0||(r[n]=e[n]);return r}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function a(e,t){if(e in t){for(var n=t[e],o=arguments.length,r=new Array(o>2?o-2:0),i=2;i<o;i++)r[i-2]=arguments[i];return"function"==typeof n?n.apply(void 0,r):n}var u=new Error('Tried to handle "'+e+'" but there is no handler defined. Only defined handlers are: '+Object.keys(t).map((function(e){return'"'+e+'"'})).join(", ")+".");throw Error.captureStackTrace&&Error.captureStackTrace(u,a),u}var u,l,s;function c(e){var t,r,i=e.visible,s=void 0===i||i,c=e.features,p=void 0===c?u.None:c,f=o(e,["visible","features"]);return s||p&u.Static&&f.props.static?d(f):p&u.RenderStrategy?a(null==(t=f.props.unmount)||t?l.Unmount:l.Hidden,((r={})[l.Unmount]=function(){return null},r[l.Hidden]=function(){return d(n({},f,{props:n({},f.props,{hidden:!0,style:{display:"none"}})}))},r)):d(f)}function d(e){var n,r=e.attrs,a=e.slots,u=e.slot,l=e.name,s=function(e,t){void 0===t&&(t=[]);for(var n,o=Object.assign({},e),r=i(t);!(n=r()).done;){var a=n.value;a in o&&delete o[a]}return o}(e.props,["unmount","static"]),c=s.as,d=o(s,["as"]),p=null==a.default?void 0:a.default(u);if("template"===c){if(Object.keys(d).length>0||Object.keys(r).length>0){var f=null!=p?p:[],v=f[0],m=f.slice(1);if(null==(n=v)||"string"!=typeof n.type&&"object"!=typeof n.type&&"function"!=typeof n.type||m.length>0)throw new Error(['Passing props on "template"!',"","The current component <"+l+' /> is rendering a "template".',"However we need to passthrough the following props:",Object.keys(d).concat(Object.keys(r)).map((function(e){return"  - "+e})).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map((function(e){return"  - "+e})).join("\n")].join("\n"));return t.cloneVNode(v,d)}return Array.isArray(p)&&1===p.length?p[0]:p}return t.h(c,d,p)}!function(e){e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static"}(u||(u={})),function(e){e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden"}(l||(l={})),function(e){e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab"}(s||(s={}));var p=0;function f(){return++p}var v,m,h,b,y=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((function(e){return e+":not([tabindex='-1'])"})).join(",");function g(e){return void 0===e&&(e=document.body),null==e?[]:Array.from(e.querySelectorAll(y))}function S(e){null==e||e.focus({preventScroll:!0})}function w(e,t){var n=Array.isArray(e)?e:g(e),o=document.activeElement,r=function(){if(t&(v.First|v.Next))return h.Next;if(t&(v.Previous|v.Last))return h.Previous;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),i=function(){if(t&v.First)return 0;if(t&v.Previous)return Math.max(0,n.indexOf(o))-1;if(t&v.Next)return Math.max(0,n.indexOf(o))+1;if(t&v.Last)return n.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),a=t&v.NoScroll?{preventScroll:!0}:{},u=0,l=n.length,s=void 0;do{var c;if(u>=l||u+l<=0)return m.Error;var d=i+u;if(t&v.WrapAround)d=(d+l)%l;else{if(d<0)return m.Underflow;if(d>=l)return m.Overflow}null==(c=s=n[d])||c.focus(a),u+=r}while(s!==document.activeElement);return s.hasAttribute("tabindex")||s.setAttribute("tabindex","0"),m.Success}function O(e,n,o){window.addEventListener(e,n,o),t.onUnmounted((function(){return window.removeEventListener(e,n,o)}))}function x(e,t){for(var n,o=i(e);!(n=o()).done;)if(n.value.contains(t))return!0;return!1}function E(e,n,o){void 0===n&&(n=t.ref(!0)),void 0===o&&(o=t.ref({}));var r=t.ref("undefined"!=typeof window?document.activeElement:null),a=t.ref(null);function u(){if(n.value&&1===e.value.size){var t=o.value.initialFocus,u=document.activeElement;if(t){if(t===u)return}else if(x(e.value,u))return;if(r.value=u,t)S(t);else{for(var l,s=!1,c=i(e.value);!(l=c()).done;)if(w(l.value,v.First)===m.Success){s=!0;break}if(!s)throw new Error("There are no focusable elements inside the <FocusTrap />")}a.value=document.activeElement}}function l(){S(r.value),r.value=null,a.value=null}t.watchEffect(u),t.onUpdated((function(){n.value?u():l()})),t.onUnmounted(l),O("keydown",(function(t){if(n.value&&t.key===s.Tab&&document.activeElement&&1===e.value.size){t.preventDefault();for(var o,r=i(e.value);!(o=r()).done;)if(w(o.value,(t.shiftKey?v.Previous:v.Next)|v.WrapAround)===m.Success){a.value=document.activeElement;break}}})),O("focus",(function(t){if(n.value&&1===e.value.size){var o=a.value;if(o){var r=t.target;r&&r instanceof HTMLElement?x(e.value,r)?(a.value=r,S(r)):(t.preventDefault(),t.stopPropagation(),S(o)):S(a.value)}}}),!0)}!function(e){e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll"}(v||(v={})),function(e){e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow"}(m||(m={})),function(e){e[e.Previous=-1]="Previous",e[e.Next=1]="Next"}(h||(h={})),function(e){e[e.Strict=0]="Strict",e[e.Loose=1]="Loose"}(b||(b={}));var C=new Set,D=new Map;function k(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function P(e){var t=D.get(e);t&&(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}var T,I=Symbol("StackContext");function R(){return t.inject(I,(function(){}))}function F(e){var n=R();t.provide(I,(function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];null==e||e.apply(void 0,o),n.apply(void 0,o)}))}!function(e){e[e.AddElement=0]="AddElement",e[e.RemoveElement=1]="RemoveElement"}(T||(T={}));var L=Symbol("ForcePortalRootContext"),A=t.defineComponent({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup:function(e,n){var r=n.slots,i=n.attrs;return t.provide(L,e.force),function(){return c({props:o(e,["force"]),slot:{},slots:r,attrs:i,name:"ForcePortalRoot"})}}}),j=t.defineComponent({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup:function(e,o){var r=o.slots,i=o.attrs,a=t.inject(L,!1),u=t.inject($,null),l=t.ref(!0===a||null===u?function(){var e=document.getElementById("headlessui-portal-root");if(e)return e;var t=document.createElement("div");return t.setAttribute("id","headlessui-portal-root"),document.body.appendChild(t)}():u.resolveTarget());t.watchEffect((function(){a||null!==u&&(l.value=u.resolveTarget())}));var s=t.ref(null);return function(e){var n=R();t.watchEffect((function(t){var o=null==e?void 0:e.value;o&&(n(T.AddElement,o),t((function(){return n(T.RemoveElement,o)})))}))}(s),t.onUnmounted((function(){var e,t=document.getElementById("headlessui-portal-root");t&&l.value===t&&l.value.children.length<=0&&(null==(e=l.value.parentElement)||e.removeChild(l.value))})),F(),function(){return null===l.value?null:t.h(t.Teleport,{to:l.value},c({props:n({},e,{ref:s}),slot:{},attrs:i,slots:r,name:"Portal"}))}}}),$=Symbol("PortalGroupContext"),B=t.defineComponent({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup:function(e,n){var r=n.attrs,i=n.slots,a=t.reactive({resolveTarget:function(){return e.target}});return t.provide($,a),function(){return c({props:o(e,["target"]),slot:{},attrs:r,slots:i,name:"PortalGroup"})}}}),M=Symbol("DescriptionContext");function N(e){var n=void 0===e?{}:e,o=n.slot,r=void 0===o?{}:o,i=n.name,a=void 0===i?"Description":i,u=n.props,l=void 0===u?{}:u,s=t.ref([]);return t.provide(M,{register:function(e){return s.value.push(e),function(){var t=s.value.indexOf(e);-1!==t&&s.value.splice(t,1)}},slot:r,name:a,props:l}),t.computed((function(){return s.value.length>0?s.value.join(" "):void 0}))}var K,U=t.defineComponent({name:"Description",props:{as:{type:[Object,String],default:"p"}},render:function(){var e=this.context,o=e.name,r=void 0===o?"Description":o,i=e.slot,a=void 0===i?{}:i,u=e.props,l=this.$props,s=n({},Object.entries(void 0===u?{}:u).reduce((function(e,n){var o;return Object.assign(e,((o={})[n[0]]=t.unref(n[1]),o))}),{}),{id:this.id});return c({props:n({},l,s),slot:a,attrs:this.$attrs,slots:this.$slots,name:r})},setup:function(){var e=function(){var e=t.inject(M,null);if(null===e)throw new Error("Missing parent");return e}(),n="headlessui-description-"+f();return t.onMounted((function(){return t.onUnmounted(e.register(n))})),{id:n,context:e}}});function V(e){var t;return null==e||null==e.value?null:null!=(t=e.value.$el)?t:e.value}!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(K||(K={}));var G=Symbol("DialogContext");function H(e){var n=t.inject(G,null);if(null===n){var o=new Error("<"+e+" /> is missing a parent <Dialog /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(o,H),o}return n}var q,W="DC8F892D-2EBD-447C-A4C8-A03058436FF4",_=t.defineComponent({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:Boolean,default:W},initialFocus:{type:Object,default:null}},emits:["close"],render:function(){var e=this,r=n({},this.$attrs,{ref:"el",id:this.id,role:"dialog","aria-modal":this.dialogState===K.Open||void 0,"aria-labelledby":this.titleId,"aria-describedby":this.describedby}),i=this.$props,a=i.open,l=o(i,["open","initialFocus"]),s={open:this.dialogState===K.Open};return t.h(A,{force:!0},(function(){return t.h(j,(function(){return t.h(B,{target:e.dialogRef},(function(){return t.h(A,{force:!1},(function(){return c({props:n({},l,r),slot:s,attrs:e.$attrs,slots:e.$slots,visible:a,features:u.RenderStrategy|u.Static,name:"Dialog"})}))}))}))}))},setup:function(e,n){var o=n.emit,r=t.ref(new Set);if(e.open===W)throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if("boolean"!=typeof e.open)throw new Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: "+(e.open===W?void 0:e.open));var u=t.computed((function(){return e.open?K.Open:K.Closed})),l=t.ref(null),c=t.ref(u.value===K.Open);t.onUpdated((function(){c.value=u.value===K.Open}));var d="headlessui-dialog-"+f(),p=t.computed((function(){return{initialFocus:e.initialFocus}}));E(r,c,p),function(e,n){void 0===n&&(n=t.ref(!0)),t.watchEffect((function(t){if(n.value&&e.value){var o=e.value;C.add(o);for(var r,a=i(D.keys());!(r=a()).done;){var u=r.value;u.contains(o)&&(P(u),D.delete(u))}document.querySelectorAll("body > *").forEach((function(e){if(e instanceof HTMLElement){for(var t,n=i(C);!(t=n()).done;)if(e.contains(t.value))return;1===C.size&&(D.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),k(e))}})),t((function(){if(C.delete(o),C.size>0)document.querySelectorAll("body > *").forEach((function(e){if(e instanceof HTMLElement&&!D.has(e)){for(var t,n=i(C);!(t=n()).done;)if(e.contains(t.value))return;D.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),k(e)}}));else for(var e,t=i(D.keys());!(e=t()).done;){var n=e.value;P(n),D.delete(n)}}))}}))}(l,c),F((function(e,t){var n;return a(e,((n={})[T.AddElement]=function(){r.value.add(t)},n[T.RemoveElement]=function(){r.value.delete(t)},n))}));var v=N({name:"DialogDescription",slot:{open:e.open}}),m=t.ref(null),h={titleId:m,dialogState:u,setTitleId:function(e){m.value!==e&&(m.value=e)},close:function(){o("close",!1)}};return t.provide(G,h),O("mousedown",(function(e){var n=e.target;u.value===K.Open&&1===r.value.size&&(x(r.value,n)||(h.close(),t.nextTick((function(){return null==n?void 0:n.focus()}))))})),O("keydown",(function(e){e.key===s.Escape&&u.value===K.Open&&(r.value.size>1||h.close())})),t.watchEffect((function(e){if(u.value===K.Open){var t=document.documentElement.style.overflow,n=document.documentElement.style.paddingRight,o=window.innerWidth-document.documentElement.clientWidth;document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=o+"px",e((function(){document.documentElement.style.overflow=t,document.documentElement.style.paddingRight=n}))}})),t.watchEffect((function(e){if(u.value===K.Open){var t=V(l);if(t){var n=new IntersectionObserver((function(e){for(var t,n=i(e);!(t=n()).done;){var o=t.value;0===o.boundingClientRect.x&&0===o.boundingClientRect.y&&0===o.boundingClientRect.width&&0===o.boundingClientRect.height&&h.close()}}));n.observe(t),e((function(){return n.disconnect()}))}}})),{id:d,el:l,dialogRef:l,containers:r,dialogState:u,titleId:m,describedby:v}}}),z=t.defineComponent({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"}},render:function(){var e=H("DialogOverlay");return c({props:n({},this.$props,{ref:"el",id:this.id,"aria-hidden":!0,onClick:this.handleClick}),slot:{open:e.dialogState.value===K.Open},attrs:this.$attrs,slots:this.$slots,name:"DialogOverlay"})},setup:function(){var e=H("DialogOverlay");return{id:"headlessui-dialog-overlay-"+f(),handleClick:function(){e.close()}}}}),Q=t.defineComponent({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"}},render:function(){var e=H("DialogTitle");return c({props:n({},this.$props,{id:this.id}),slot:{open:e.dialogState.value===K.Open},attrs:this.$attrs,slots:this.$slots,name:"DialogTitle"})},setup:function(){var e=H("DialogTitle"),n="headlessui-dialog-title-"+f();return t.onMounted((function(){e.setTitleId(n),t.onUnmounted((function(){return e.setTitleId(null)}))})),{id:n}}}),Y=U;!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(q||(q={}));var J=Symbol("DisclosureContext");function X(e){var n=t.inject(J,null);if(null===n){var o=new Error("<"+e+" /> is missing a parent <Disclosure /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(o,X),o}return n}var Z,ee,te=t.defineComponent({name:"Disclosure",props:{as:{type:[Object,String],default:"template"}},setup:function(e,o){var r=o.slots,i=o.attrs,u=n({},e),l=t.ref(q.Closed),s=t.ref(null);return t.provide(J,{disclosureState:l,panelRef:s,toggleDisclosure:function(){var e;l.value=a(l.value,((e={})[q.Open]=q.Closed,e[q.Closed]=q.Open,e))}}),function(){return c({props:u,slot:{open:l.value===q.Open},slots:r,attrs:i,name:"Disclosure"})}}}),ne=t.defineComponent({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},render:function(){var e=X("DisclosureButton"),t={open:e.disclosureState.value===q.Open};return c({props:n({},this.$props,{id:this.id,type:"button","aria-expanded":e.disclosureState.value===q.Open||void 0,"aria-controls":this.ariaControls,onClick:this.handleClick,onKeydown:this.handleKeyDown,onKeyup:this.handleKeyUp}),slot:t,attrs:this.$attrs,slots:this.$slots,name:"DisclosureButton"})},setup:function(e){var n=X("DisclosureButton");return{id:"headlessui-disclosure-button-"+f(),ariaControls:t.computed((function(){var e,t;return null!=(e=null==(t=V(n.panelRef))?void 0:t.id)?e:void 0})),handleClick:function(){e.disabled||n.toggleDisclosure()},handleKeyDown:function(t){if(!e.disabled)switch(t.key){case s.Space:case s.Enter:t.preventDefault(),t.stopPropagation(),n.toggleDisclosure()}},handleKeyUp:function(e){switch(e.key){case s.Space:e.preventDefault()}}}}}),oe=t.defineComponent({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},render:function(){var e={open:X("DisclosurePanel").disclosureState.value===q.Open};return c({props:n({},this.$props,{id:this.id,ref:"el"}),slot:e,attrs:this.$attrs,slots:this.$slots,features:u.RenderStrategy|u.Static,visible:e.open,name:"DisclosurePanel"})},setup:function(){var e=X("DisclosurePanel");return{id:"headlessui-disclosure-panel-"+f(),el:e.panelRef}}}),re=t.defineComponent({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null}},render:function(){return c({props:n({},o(this.$props,["initialFocus"]),{ref:"el"}),slot:{},attrs:this.$attrs,slots:this.$slots,name:"FocusTrap"})},setup:function(e){var n=t.ref(new Set),o=t.ref(null),r=t.ref(!0),i=t.computed((function(){return{initialFocus:e.initialFocus}}));return t.onMounted((function(){o.value&&(n.value.add(o.value),E(n,r,i))})),t.onUnmounted((function(){r.value=!1})),{el:o}}});function ie(e,t){var n=t.resolveItems();if(n.length<=0)return null;var o=t.resolveActiveIndex(),r=null!=o?o:-1,i=function(){switch(e.focus){case Z.First:return n.findIndex((function(e){return!t.resolveDisabled(e)}));case Z.Previous:var o=n.slice().reverse().findIndex((function(e,n,o){return!(-1!==r&&o.length-n-1>=r||t.resolveDisabled(e))}));return-1===o?o:n.length-1-o;case Z.Next:return n.findIndex((function(e,n){return!(n<=r||t.resolveDisabled(e))}));case Z.Last:var i=n.slice().reverse().findIndex((function(e){return!t.resolveDisabled(e)}));return-1===i?i:n.length-1-i;case Z.Specific:return n.findIndex((function(n){return t.resolveId(n)===e.id}));case Z.Nothing:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}();return-1===i?o:i}function ae(e,t){if(void 0!==e)return"function"==typeof e?e(t):e}!function(e){e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing"}(Z||(Z={})),function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(ee||(ee={}));var ue=Symbol("ListboxContext");function le(e){var n=t.inject(ue,null);if(null===n){var o=new Error("<"+e+" /> is missing a parent <Listbox /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(o,le),o}return n}var se,ce=t.defineComponent({name:"Listbox",emits:["update:modelValue"],props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:null}},setup:function(e,n){var r=n.slots,i=n.attrs,a=n.emit,u=e.disabled,l=o(e,["modelValue","disabled"]),s=t.ref(ee.Closed),d=t.ref(null),p=t.ref(null),f=t.ref(null),v=t.ref([]),m=t.ref(""),h=t.ref(null),b=t.computed((function(){return e.modelValue})),y={listboxState:s,value:b,labelRef:d,buttonRef:p,optionsRef:f,disabled:u,options:v,searchQuery:m,activeOptionIndex:h,closeListbox:function(){u||s.value!==ee.Closed&&(s.value=ee.Closed,h.value=null)},openListbox:function(){u||s.value!==ee.Open&&(s.value=ee.Open)},goToOption:function(e,t){if(!u&&s.value!==ee.Closed){var n=ie(e===Z.Specific?{focus:Z.Specific,id:t}:{focus:e},{resolveItems:function(){return v.value},resolveActiveIndex:function(){return h.value},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.disabled}});""===m.value&&h.value===n||(m.value="",h.value=n)}},search:function(e){if(!u&&s.value!==ee.Closed){m.value+=e;var t=v.value.findIndex((function(e){return!e.dataRef.disabled&&e.dataRef.textValue.startsWith(m.value)}));-1!==t&&t!==h.value&&(h.value=t)}},clearSearch:function(){u||s.value!==ee.Closed&&""!==m.value&&(m.value="")},registerOption:function(e,t){v.value.push({id:e,dataRef:t})},unregisterOption:function(e){var t=v.value.slice(),n=null!==h.value?t[h.value]:null,o=t.findIndex((function(t){return t.id===e}));-1!==o&&t.splice(o,1),v.value=t,h.value=o===h.value||null===n?null:t.indexOf(n)},select:function(e){u||a("update:modelValue",e)}};return O("mousedown",(function(e){var t,n,o,r=e.target,i=document.activeElement;s.value===ee.Open&&((null==(t=V(p))?void 0:t.contains(r))||((null==(n=V(f))?void 0:n.contains(r))||y.closeListbox(),i!==document.body&&(null==i?void 0:i.contains(r))||e.defaultPrevented||null==(o=V(p))||o.focus({preventScroll:!0})))})),t.provide(ue,y),function(){return c({props:l,slot:{open:s.value===ee.Open,disabled:u},slots:r,attrs:i,name:"Listbox"})}}}),de=t.defineComponent({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"}},render:function(){var e=le("ListboxLabel"),t={open:e.listboxState.value===ee.Open,disabled:e.disabled};return c({props:n({},this.$props,{id:this.id,ref:"el",onClick:this.handleClick}),slot:t,attrs:this.$attrs,slots:this.$slots,name:"ListboxLabel"})},setup:function(){var e=le("ListboxLabel");return{id:"headlessui-listbox-label-"+f(),el:e.labelRef,handleClick:function(){var t;null==(t=V(e.buttonRef))||t.focus({preventScroll:!0})}}}}),pe=t.defineComponent({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"}},render:function(){var e,t,o=le("ListboxButton"),r={open:o.listboxState.value===ee.Open,disabled:o.disabled},i={ref:"el",id:this.id,type:"button","aria-haspopup":!0,"aria-controls":null==(e=V(o.optionsRef))?void 0:e.id,"aria-expanded":o.listboxState.value===ee.Open||void 0,"aria-labelledby":o.labelRef.value?[null==(t=V(o.labelRef))?void 0:t.id,this.id].join(" "):void 0,disabled:o.disabled,onKeydown:this.handleKeyDown,onKeyup:this.handleKeyUp,onClick:this.handleClick};return c({props:n({},this.$props,i),slot:r,attrs:this.$attrs,slots:this.$slots,name:"ListboxButton"})},setup:function(){var e=le("ListboxButton");return{id:"headlessui-listbox-button-"+f(),el:e.buttonRef,handleKeyDown:function(n){switch(n.key){case s.Space:case s.Enter:case s.ArrowDown:n.preventDefault(),e.openListbox(),t.nextTick((function(){var t;null==(t=V(e.optionsRef))||t.focus({preventScroll:!0}),e.value.value||e.goToOption(Z.First)}));break;case s.ArrowUp:n.preventDefault(),e.openListbox(),t.nextTick((function(){var t;null==(t=V(e.optionsRef))||t.focus({preventScroll:!0}),e.value.value||e.goToOption(Z.Last)}))}},handleKeyUp:function(e){switch(e.key){case s.Space:e.preventDefault()}},handleClick:function(n){var o;e.disabled||(e.listboxState.value===ee.Open?(e.closeListbox(),t.nextTick((function(){var t;return null==(t=V(e.buttonRef))?void 0:t.focus({preventScroll:!0})}))):(n.preventDefault(),e.openListbox(),o=function(){var t;return null==(t=V(e.optionsRef))?void 0:t.focus({preventScroll:!0})},requestAnimationFrame((function(){return requestAnimationFrame(o)}))))}}}}),fe=t.defineComponent({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},render:function(){var e,t,o,r,i=le("ListboxOptions"),a={open:i.listboxState.value===ee.Open},l={"aria-activedescendant":null===i.activeOptionIndex.value||null==(e=i.options.value[i.activeOptionIndex.value])?void 0:e.id,"aria-labelledby":null!=(t=null==(o=V(i.labelRef))?void 0:o.id)?t:null==(r=V(i.buttonRef))?void 0:r.id,id:this.id,onKeydown:this.handleKeyDown,role:"listbox",tabIndex:0,ref:"el"};return c({props:n({},this.$props,l),slot:a,attrs:this.$attrs,slots:this.$slots,features:u.RenderStrategy|u.Static,visible:a.open,name:"ListboxOptions"})},setup:function(){var e=le("ListboxOptions"),n="headlessui-listbox-options-"+f(),o=t.ref(null);return{id:n,el:e.optionsRef,handleKeyDown:function(n){switch(o.value&&clearTimeout(o.value),n.key){case s.Space:if(""!==e.searchQuery.value)return n.preventDefault(),n.stopPropagation(),e.search(n.key);case s.Enter:n.preventDefault(),n.stopPropagation(),null!==e.activeOptionIndex.value&&e.select(e.options.value[e.activeOptionIndex.value].dataRef.value),e.closeListbox(),t.nextTick((function(){var t;return null==(t=V(e.buttonRef))?void 0:t.focus({preventScroll:!0})}));break;case s.ArrowDown:return n.preventDefault(),n.stopPropagation(),e.goToOption(Z.Next);case s.ArrowUp:return n.preventDefault(),n.stopPropagation(),e.goToOption(Z.Previous);case s.Home:case s.PageUp:return n.preventDefault(),n.stopPropagation(),e.goToOption(Z.First);case s.End:case s.PageDown:return n.preventDefault(),n.stopPropagation(),e.goToOption(Z.Last);case s.Escape:n.preventDefault(),n.stopPropagation(),e.closeListbox(),t.nextTick((function(){var t;return null==(t=V(e.buttonRef))?void 0:t.focus({preventScroll:!0})}));break;case s.Tab:n.preventDefault(),n.stopPropagation();break;default:1===n.key.length&&(e.search(n.key),o.value=setTimeout((function(){return e.clearSearch()}),350))}}}}}),ve=t.defineComponent({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String],default:null},disabled:{type:Boolean,default:!1},class:{type:[String,Function],required:!1},className:{type:[String,Function],required:!1}},setup:function(e,o){var r=o.slots,i=o.attrs,a=le("ListboxOption"),u="headlessui-listbox-option-"+f(),l=e.disabled,s=e.className,d=void 0===s?e.class:s,p=e.value,v=t.computed((function(){return null!==a.activeOptionIndex.value&&a.options.value[a.activeOptionIndex.value].id===u})),m=t.computed((function(){return t.toRaw(a.value.value)===t.toRaw(p)})),h=t.ref({disabled:l,value:p,textValue:""});function b(e){if(l)return e.preventDefault();a.select(p),a.closeListbox(),t.nextTick((function(){var e;return null==(e=V(a.buttonRef))?void 0:e.focus({preventScroll:!0})}))}function y(){if(l)return a.goToOption(Z.Nothing);a.goToOption(Z.Specific,u)}function g(){l||v.value||a.goToOption(Z.Specific,u)}function S(){l||v.value&&a.goToOption(Z.Nothing)}return t.onMounted((function(){var e,t,n=null==(e=document.getElementById(u))||null==(t=e.textContent)?void 0:t.toLowerCase().trim();void 0!==n&&(h.value.textValue=n)})),t.onMounted((function(){return a.registerOption(u,h)})),t.onUnmounted((function(){return a.unregisterOption(u)})),t.onMounted((function(){t.watch([a.listboxState,m],(function(){var e;a.listboxState.value===ee.Open&&m.value&&(a.goToOption(Z.Specific,u),null==(e=document.getElementById(u))||null==e.focus||e.focus())}),{immediate:!0})})),t.watchEffect((function(){a.listboxState.value===ee.Open&&v.value&&t.nextTick((function(){var e;return null==(e=document.getElementById(u))||null==e.scrollIntoView?void 0:e.scrollIntoView({block:"nearest"})}))})),function(){var t={active:v.value,selected:m.value,disabled:l},o={id:u,role:"option",tabIndex:-1,class:ae(d,t),"aria-disabled":!0===l||void 0,"aria-selected":!0===m.value?m.value:void 0,onClick:b,onFocus:y,onPointermove:g,onMousemove:g,onPointerleave:S,onMouseleave:S};return c({props:n({},e,o),slot:t,attrs:i,slots:r,name:"ListboxOption"})}}});function me(e){var n=e.container,o=e.accept,r=e.walk,i=e.enabled;t.watchEffect((function(){var e=n.value;if(e&&(void 0===i||i.value))for(var t=Object.assign((function(e){return o(e)}),{acceptNode:o}),a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,t,!1);a.nextNode();)r(a.currentNode)}))}!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(se||(se={}));var he=Symbol("MenuContext");function be(e){var n=t.inject(he,null);if(null===n){var o=new Error("<"+e+" /> is missing a parent <Menu /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(o,be),o}return n}var ye,ge=t.defineComponent({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup:function(e,n){var o=n.slots,r=n.attrs,i=t.ref(se.Closed),a=t.ref(null),u=t.ref(null),l=t.ref([]),s=t.ref(""),d=t.ref(null),p={menuState:i,buttonRef:a,itemsRef:u,items:l,searchQuery:s,activeItemIndex:d,closeMenu:function(){i.value=se.Closed,d.value=null},openMenu:function(){return i.value=se.Open},goToItem:function(e,t){var n=ie(e===Z.Specific?{focus:Z.Specific,id:t}:{focus:e},{resolveItems:function(){return l.value},resolveActiveIndex:function(){return d.value},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.disabled}});""===s.value&&d.value===n||(s.value="",d.value=n)},search:function(e){s.value+=e;var t=l.value.findIndex((function(e){return e.dataRef.textValue.startsWith(s.value)&&!e.dataRef.disabled}));-1!==t&&t!==d.value&&(d.value=t)},clearSearch:function(){s.value=""},registerItem:function(e,t){l.value.push({id:e,dataRef:t})},unregisterItem:function(e){var t=l.value.slice(),n=null!==d.value?t[d.value]:null,o=t.findIndex((function(t){return t.id===e}));-1!==o&&t.splice(o,1),l.value=t,d.value=o===d.value||null===n?null:t.indexOf(n)}};return O("mousedown",(function(e){var t,n,o,r=e.target,l=document.activeElement;i.value===se.Open&&((null==(t=V(a))?void 0:t.contains(r))||((null==(n=V(u))?void 0:n.contains(r))||p.closeMenu(),l!==document.body&&(null==l?void 0:l.contains(r))||e.defaultPrevented||null==(o=V(a))||o.focus({preventScroll:!0})))})),t.provide(he,p),function(){return c({props:e,slot:{open:i.value===se.Open},slots:o,attrs:r,name:"Menu"})}}}),Se=t.defineComponent({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"}},render:function(){var e,t=be("MenuButton"),o={open:t.menuState.value===se.Open},r={ref:"el",id:this.id,type:"button","aria-haspopup":!0,"aria-controls":null==(e=V(t.itemsRef))?void 0:e.id,"aria-expanded":t.menuState.value===se.Open||void 0,onKeydown:this.handleKeyDown,onKeyup:this.handleKeyUp,onClick:this.handleClick};return c({props:n({},this.$props,r),slot:o,attrs:this.$attrs,slots:this.$slots,name:"MenuButton"})},setup:function(e){var n=be("MenuButton");return{id:"headlessui-menu-button-"+f(),el:n.buttonRef,handleKeyDown:function(e){switch(e.key){case s.Space:case s.Enter:case s.ArrowDown:e.preventDefault(),e.stopPropagation(),n.openMenu(),t.nextTick((function(){var e;null==(e=V(n.itemsRef))||e.focus({preventScroll:!0}),n.goToItem(Z.First)}));break;case s.ArrowUp:e.preventDefault(),e.stopPropagation(),n.openMenu(),t.nextTick((function(){var e;null==(e=V(n.itemsRef))||e.focus({preventScroll:!0}),n.goToItem(Z.Last)}))}},handleKeyUp:function(e){switch(e.key){case s.Space:e.preventDefault()}},handleClick:function(o){var r;e.disabled||(n.menuState.value===se.Open?(n.closeMenu(),t.nextTick((function(){var e;return null==(e=V(n.buttonRef))?void 0:e.focus({preventScroll:!0})}))):(o.preventDefault(),o.stopPropagation(),n.openMenu(),r=function(){var e;return null==(e=V(n.itemsRef))?void 0:e.focus({preventScroll:!0})},requestAnimationFrame((function(){return requestAnimationFrame(r)}))))}}}}),we=t.defineComponent({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},render:function(){var e,t,o=be("MenuItems"),r={open:o.menuState.value===se.Open},i={"aria-activedescendant":null===o.activeItemIndex.value||null==(e=o.items.value[o.activeItemIndex.value])?void 0:e.id,"aria-labelledby":null==(t=V(o.buttonRef))?void 0:t.id,id:this.id,onKeydown:this.handleKeyDown,onKeyup:this.handleKeyUp,role:"menu",tabIndex:0,ref:"el"};return c({props:n({},this.$props,i),slot:r,attrs:this.$attrs,slots:this.$slots,features:u.RenderStrategy|u.Static,visible:r.open,name:"MenuItems"})},setup:function(){var e=be("MenuItems"),n="headlessui-menu-items-"+f(),o=t.ref(null);return me({container:t.computed((function(){return V(e.itemsRef)})),enabled:t.computed((function(){return e.menuState.value===se.Open})),accept:function(e){return"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}}),{id:n,el:e.itemsRef,handleKeyDown:function(n){switch(o.value&&clearTimeout(o.value),n.key){case s.Space:if(""!==e.searchQuery.value)return n.preventDefault(),n.stopPropagation(),e.search(n.key);case s.Enter:var r;n.preventDefault(),n.stopPropagation(),null!==e.activeItemIndex.value&&(null==(r=document.getElementById(e.items.value[e.activeItemIndex.value].id))||r.click()),e.closeMenu(),t.nextTick((function(){var t;return null==(t=V(e.buttonRef))?void 0:t.focus({preventScroll:!0})}));break;case s.ArrowDown:return n.preventDefault(),n.stopPropagation(),e.goToItem(Z.Next);case s.ArrowUp:return n.preventDefault(),n.stopPropagation(),e.goToItem(Z.Previous);case s.Home:case s.PageUp:return n.preventDefault(),n.stopPropagation(),e.goToItem(Z.First);case s.End:case s.PageDown:return n.preventDefault(),n.stopPropagation(),e.goToItem(Z.Last);case s.Escape:n.preventDefault(),n.stopPropagation(),e.closeMenu(),t.nextTick((function(){var t;return null==(t=V(e.buttonRef))?void 0:t.focus({preventScroll:!0})}));break;case s.Tab:n.preventDefault(),n.stopPropagation();break;default:1===n.key.length&&(e.search(n.key),o.value=setTimeout((function(){return e.clearSearch()}),350))}},handleKeyUp:function(e){switch(e.key){case s.Space:e.preventDefault()}}}}}),Oe=t.defineComponent({name:"MenuItem",props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},class:{type:[String,Function],required:!1},className:{type:[String,Function],required:!1}},setup:function(e,o){var r=o.slots,i=o.attrs,a=be("MenuItem"),u="headlessui-menu-item-"+f(),l=e.disabled,s=e.className,d=void 0===s?e.class:s,p=t.computed((function(){return null!==a.activeItemIndex.value&&a.items.value[a.activeItemIndex.value].id===u})),v=t.ref({disabled:l,textValue:""});function m(e){if(l)return e.preventDefault();a.closeMenu(),t.nextTick((function(){var e;return null==(e=V(a.buttonRef))?void 0:e.focus({preventScroll:!0})}))}function h(){if(l)return a.goToItem(Z.Nothing);a.goToItem(Z.Specific,u)}function b(){l||p.value||a.goToItem(Z.Specific,u)}function y(){l||p.value&&a.goToItem(Z.Nothing)}return t.onMounted((function(){var e,t,n=null==(e=document.getElementById(u))||null==(t=e.textContent)?void 0:t.toLowerCase().trim();void 0!==n&&(v.value.textValue=n)})),t.onMounted((function(){return a.registerItem(u,v)})),t.onUnmounted((function(){return a.unregisterItem(u)})),t.watchEffect((function(){a.menuState.value===se.Open&&p.value&&t.nextTick((function(){var e;return null==(e=document.getElementById(u))||null==e.scrollIntoView?void 0:e.scrollIntoView({block:"nearest"})}))})),function(){var t={active:p.value,disabled:l},o={id:u,role:"menuitem",tabIndex:-1,class:ae(d,t),"aria-disabled":!0===l||void 0,onClick:m,onFocus:h,onPointermove:b,onMousemove:b,onPointerleave:y,onMouseleave:y};return c({props:n({},e,o),slot:t,attrs:i,slots:r,name:"MenuItem"})}}});!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(ye||(ye={}));var xe=Symbol("PopoverContext");function Ee(e){var n=t.inject(xe,null);if(null===n){var o=new Error("<"+e+" /> is missing a parent <"+Pe.name+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(o,Ee),o}return n}var Ce=Symbol("PopoverGroupContext");function De(){return t.inject(Ce,null)}var ke=Symbol("PopoverPanelContext"),Pe=t.defineComponent({name:"Popover",props:{as:{type:[Object,String],default:"div"}},setup:function(e,o){var r=o.slots,i=o.attrs,u=n({},e),l="headlessui-popover-button-"+f(),s="headlessui-popover-panel-"+f(),d=t.ref(ye.Closed),p=t.ref(null),v=t.ref(null),m={popoverState:d,buttonId:l,panelId:s,panel:v,button:p,togglePopover:function(){var e;d.value=a(d.value,((e={})[ye.Open]=ye.Closed,e[ye.Closed]=ye.Open,e))},closePopover:function(){d.value!==ye.Closed&&(d.value=ye.Closed)}};t.provide(xe,m);var h={buttonId:l,panelId:s,close:function(){m.closePopover()}},g=De(),S=null==g?void 0:g.registerPopover;return t.watchEffect((function(){return null==S?void 0:S(h)})),O("focus",(function(){var e,t,n;d.value===ye.Open&&((null!=(e=null==g?void 0:g.isFocusWithinPopoverGroup())?e:(null==(t=V(p))?void 0:t.contains(document.activeElement))||(null==(n=V(v))?void 0:n.contains(document.activeElement)))||p&&v&&m.closePopover())}),!0),O("mousedown",(function(e){var t,n,o,r,i,u,l=e.target;d.value===ye.Open&&((null==(t=V(p))?void 0:t.contains(l))||(null==(n=V(v))?void 0:n.contains(l))||(m.closePopover(),void 0===(i=b.Loose)&&(i=b.Strict),(r=l)!==document.body&&a(i,((u={})[b.Strict]=function(){return r.matches(y)},u[b.Loose]=function(){for(var e=r;null!==e;){if(e.matches(y))return!0;e=e.parentElement}return!1},u))||(e.preventDefault(),null==(o=V(p))||o.focus())))})),function(){return c({props:u,slot:{open:d.value===ye.Open},slots:r,attrs:i,name:"Popover"})}}}),Te=t.defineComponent({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},render:function(){var e=Ee("PopoverButton"),t={open:e.popoverState.value===ye.Open},o=this.isWithinPanel?{type:"button",onKeydown:this.handleKeyDown,onClick:this.handleClick}:{ref:"el",id:e.buttonId,type:"button","aria-expanded":e.popoverState.value===ye.Open||void 0,"aria-controls":V(e.panel)?e.panelId:void 0,onKeydown:this.handleKeyDown,onKeyup:this.handleKeyUp,onClick:this.handleClick};return c({props:n({},this.$props,o),slot:t,attrs:this.$attrs,slots:this.$slots,name:"PopoverButton"})},setup:function(e){var n=Ee("PopoverButton"),o=De(),r=null==o?void 0:o.closeOthers,i=t.inject(ke,null),a=null!==i&&i===n.panelId,u=t.ref(null),l=t.ref("undefined"==typeof window?null:document.activeElement);return O("focus",(function(){l.value=u.value,u.value=document.activeElement}),!0),{isWithinPanel:a,el:a?null:n.button,handleKeyDown:function(e){var t,o;if(a){if(n.popoverState.value===ye.Closed)return;switch(e.key){case s.Space:case s.Enter:e.preventDefault(),e.stopPropagation(),n.closePopover(),null==(t=V(n.button))||t.focus()}}else switch(e.key){case s.Space:case s.Enter:e.preventDefault(),e.stopPropagation(),n.popoverState.value===ye.Closed&&(null==r||r(n.buttonId)),n.togglePopover();break;case s.Escape:if(n.popoverState.value!==ye.Open)return null==r?void 0:r(n.buttonId);if(!V(n.button))return;if(!(null==(o=V(n.button))?void 0:o.contains(document.activeElement)))return;n.closePopover();break;case s.Tab:if(n.popoverState.value!==ye.Open)return;if(!n.panel)return;if(!n.button)return;if(e.shiftKey){var i,u;if(!l.value)return;if(null==(i=V(n.button))?void 0:i.contains(l.value))return;if(null==(u=V(n.panel))?void 0:u.contains(l.value))return;var c=g(),d=c.indexOf(l.value);if(c.indexOf(V(n.button))>d)return;e.preventDefault(),e.stopPropagation(),w(V(n.panel),v.Last)}else e.preventDefault(),e.stopPropagation(),w(V(n.panel),v.First)}},handleKeyUp:function(e){var t,o;if(!a&&(e.key===s.Space&&e.preventDefault(),n.popoverState.value===ye.Open&&n.panel&&n.button))switch(e.key){case s.Tab:if(!l.value)return;if(null==(t=V(n.button))?void 0:t.contains(l.value))return;if(null==(o=V(n.panel))?void 0:o.contains(l.value))return;var r=g(),i=r.indexOf(l.value);if(r.indexOf(V(n.button))>i)return;e.preventDefault(),e.stopPropagation(),w(V(n.panel),v.Last)}},handleClick:function(){var t,o;e.disabled||(a?(n.closePopover(),null==(t=V(n.button))||t.focus()):(n.popoverState.value===ye.Closed&&(null==r||r(n.buttonId)),null==(o=V(n.button))||o.focus(),n.togglePopover()))},handleFocus:function(){}}}}),Ie=t.defineComponent({name:"PopoverOverlay",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},render:function(){var e={open:Ee("PopoverOverlay").popoverState.value===ye.Open};return c({props:n({},this.$props,{id:this.id,ref:"el","aria-hidden":!0,onClick:this.handleClick}),slot:e,attrs:this.$attrs,slots:this.$slots,features:u.RenderStrategy|u.Static,visible:e.open,name:"PopoverOverlay"})},setup:function(){var e=Ee("PopoverOverlay");return{id:"headlessui-popover-overlay-"+f(),handleClick:function(){e.closePopover()}}}}),Re=t.defineComponent({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1}},render:function(){var e={open:Ee("PopoverPanel").popoverState.value===ye.Open};return c({props:n({},this.$props,{ref:"el",id:this.id,onKeydown:this.handleKeyDown}),slot:e,attrs:this.$attrs,slots:this.$slots,features:u.RenderStrategy|u.Static,visible:e.open,name:"PopoverPanel"})},setup:function(e){var n=e.focus,o=Ee("PopoverPanel");return t.provide(ke,o.panelId),t.onUnmounted((function(){o.panel.value=null})),t.watchEffect((function(){var e;if(n&&o.popoverState.value===ye.Open&&o.panel){var t=document.activeElement;(null==(e=V(o.panel))?void 0:e.contains(t))||w(V(o.panel),v.First)}})),O("keydown",(function(e){var t;if(o.popoverState.value===ye.Open&&V(o.panel)&&e.key===s.Tab&&document.activeElement&&(null==(t=V(o.panel))?void 0:t.contains(document.activeElement))){e.preventDefault();var n,r=w(V(o.panel),e.shiftKey?v.Previous:v.Next);if(r===m.Underflow)return null==(n=V(o.button))?void 0:n.focus();if(r===m.Overflow){if(!V(o.button))return;var i=g(),a=i.indexOf(V(o.button));w(i.splice(a+1).filter((function(e){var t;return!(null==(t=V(o.panel))?void 0:t.contains(e))})),v.First)===m.Error&&w(document.body,v.First)}}})),O("focus",(function(){var e;n&&o.popoverState.value===ye.Open&&V(o.panel)&&((null==(e=V(o.panel))?void 0:e.contains(document.activeElement))||o.closePopover())}),!0),{id:o.panelId,el:o.panel,handleKeyDown:function(e){var t,n;switch(e.key){case s.Escape:if(o.popoverState.value!==ye.Open)return;if(!V(o.panel))return;if(!(null==(t=V(o.panel))?void 0:t.contains(document.activeElement)))return;e.preventDefault(),o.closePopover(),null==(n=V(o.button))||n.focus()}}}}}),Fe=t.defineComponent({name:"PopoverGroup",props:{as:{type:[Object,String],default:"div"}},render:function(){return c({props:n({},this.$props,{ref:"el"}),slot:{},attrs:this.$attrs,slots:this.$slots,name:"PopoverGroup"})},setup:function(){var e=t.ref(null),n=t.ref([]);function o(e){var t=n.value.indexOf(e);-1!==t&&n.value.splice(t,1)}return t.provide(Ce,{registerPopover:function(e){return n.value.push(e),function(){o(e)}},unregisterPopover:o,isFocusWithinPopoverGroup:function(){var t,o=document.activeElement;return!!(null==(t=V(e))?void 0:t.contains(o))||n.value.some((function(e){var t,n;return(null==(t=document.getElementById(e.buttonId))?void 0:t.contains(o))||(null==(n=document.getElementById(e.panelId))?void 0:n.contains(o))}))},closeOthers:function(e){for(var t,o=i(n.value);!(t=o()).done;){var r=t.value;r.buttonId!==e&&r.close()}}}),{el:e}}}),Le=Symbol("LabelContext");function Ae(){var e=t.inject(Le,null);if(null===e){var n=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,Ae),n}return e}function je(e){var n=void 0===e?{}:e,o=n.slot,r=void 0===o?{}:o,i=n.name,a=void 0===i?"Label":i,u=n.props,l=void 0===u?{}:u,s=t.ref([]);return t.provide(Le,{register:function(e){return s.value.push(e),function(){var t=s.value.indexOf(e);-1!==t&&s.value.splice(t,1)}},slot:r,name:a,props:l}),t.computed((function(){return s.value.length>0?s.value.join(" "):void 0}))}var $e=t.defineComponent({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1}},render:function(){var e=this.context,r=e.name,i=void 0===r?"Label":r,a=e.slot,u=void 0===a?{}:a,l=e.props,s=void 0===l?{}:l,d=this.$props,p=d.passive,f=o(d,["passive"]),v=n({},Object.entries(s).reduce((function(e,n){var o;return Object.assign(e,((o={})[n[0]]=t.unref(n[1]),o))}),{}),{id:this.id}),m=n({},f,v);return p&&delete m.onClick,c({props:m,slot:u,attrs:this.$attrs,slots:this.$slots,name:i})},setup:function(){var e=Ae(),n="headlessui-label-"+f();return t.onMounted((function(){return t.onUnmounted(e.register(n))})),{id:n,context:e}}}),Be=Symbol("RadioGroupContext");function Me(e){var n=t.inject(Be,null);if(null===n){var o=new Error("<"+e+" /> is missing a parent <RadioGroup /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(o,Me),o}return n}var Ne,Ke=t.defineComponent({name:"RadioGroup",emits:["update:modelValue"],props:{as:{type:[Object,String],default:"div"},disabled:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean]}},render:function(){return c({props:n({},o(this.$props,["modelValue","disabled"]),{ref:"el",id:this.id,role:"radiogroup","aria-labelledby":this.labelledby,"aria-describedby":this.describedby,onKeydown:this.handleKeyDown}),slot:{},attrs:this.$attrs,slots:this.$slots,name:"RadioGroup"})},setup:function(e,n){var o=n.emit,r=t.ref(null),i=t.ref([]),a=je({name:"RadioGroupLabel"}),u=N({name:"RadioGroupDescription"}),l=t.computed((function(){return e.modelValue})),c={options:i,value:l,change:function(t){e.disabled||l.value!==t&&o("update:modelValue",t)},registerOption:function(e){var t,n=Array.from(null==(t=r.value)?void 0:t.querySelectorAll('[id^="headlessui-radiogroup-option-"]')).reduce((function(e,t,n){var o;return Object.assign(e,((o={})[t.id]=n,o))}),{});i.value.push(e),i.value.sort((function(e,t){return n[e.id]-n[t.id]}))},unregisterOption:function(e){var t=i.value.findIndex((function(t){return t.id===e}));-1!==t&&i.value.splice(t,1)}};return t.provide(Be,c),me({container:t.computed((function(){return V(r)})),accept:function(e){return"radio"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}}),{id:"headlessui-radiogroup-"+f(),labelledby:a,describedby:u,el:r,handleKeyDown:function(e){if(r.value&&r.value.contains(e.target))switch(e.key){case s.ArrowLeft:case s.ArrowUp:if(e.preventDefault(),e.stopPropagation(),w(i.value.map((function(e){return e.element})),v.Previous|v.WrapAround)===m.Success){var t=i.value.find((function(e){return e.element===document.activeElement}));t&&c.change(t.propsRef.value)}break;case s.ArrowRight:case s.ArrowDown:if(e.preventDefault(),e.stopPropagation(),w(i.value.map((function(e){return e.element})),v.Next|v.WrapAround)===m.Success){var n=i.value.find((function(e){return e.element===document.activeElement}));n&&c.change(n.propsRef.value)}break;case s.Space:e.preventDefault(),e.stopPropagation();var o=i.value.find((function(e){return e.element===document.activeElement}));o&&c.change(o.propsRef.value)}}}}});!function(e){e[e.Empty=1]="Empty",e[e.Active=2]="Active"}(Ne||(Ne={}));var Ue,Ve=t.defineComponent({name:"RadioGroupOption",props:{as:{type:[Object,String],default:"div"},value:{type:[Object,String]},disabled:{type:Boolean,default:!1},class:{type:[String,Function],required:!1},className:{type:[String,Function],required:!1}},render:function(){var e,t,r=this.$props,i=r.className,a=void 0===i?r.class:i,u=o(r,["value","disabled","class","className"]),l=Me("RadioGroupOption"),s=(null==(e=l.options.value)||null==(t=e[0])?void 0:t.id)===this.id,d={checked:this.checked,active:Boolean(this.state&Ne.Active)};return c({props:n({},u,{id:this.id,ref:"el",role:"radio",class:ae(a,d),"aria-checked":this.checked?"true":"false","aria-labelledby":this.labelledby,"aria-describedby":this.describedby,tabIndex:this.checked||void 0===l.value.value&&s?0:-1,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur}),slot:d,attrs:this.$attrs,slots:this.$slots,name:"RadioGroupOption"})},setup:function(e){var n=Me("RadioGroupOption"),o="headlessui-radiogroup-option-"+f(),r=je({name:"RadioGroupLabel"}),i=N({name:"RadioGroupDescription"}),a=t.ref(null),u=t.computed((function(){return{value:e.value}})),l=t.ref(Ne.Empty);return t.onMounted((function(){return n.registerOption({id:o,element:a,propsRef:u})})),t.onUnmounted((function(){return n.unregisterOption(o)})),{id:o,el:a,labelledby:r,describedby:i,state:l,checked:t.computed((function(){return t.toRaw(n.value.value)===t.toRaw(e.value)})),handleClick:function(){var t,o=e.value;n.value.value!==o&&(l.value|=Ne.Active,n.change(o),null==(t=a.value)||t.focus())},handleFocus:function(){l.value|=Ne.Active},handleBlur:function(){l.value&=~Ne.Active}}}}),Ge=$e,He=U,qe=Symbol("GroupContext"),We=t.defineComponent({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup:function(e,n){var o=n.slots,r=n.attrs,i=t.ref(null),a=je({name:"SwitchLabel",props:{onClick:function(){i.value&&(i.value.click(),i.value.focus({preventScroll:!0}))}}}),u=N({name:"SwitchDescription"});return t.provide(qe,{switchRef:i,labelledby:a,describedby:u}),function(){return c({props:e,slot:{},slots:o,attrs:r,name:"SwitchGroup"})}}}),_e=t.defineComponent({name:"Switch",emits:["update:modelValue"],props:{as:{type:[Object,String],default:"button"},modelValue:{type:[Object,Boolean],default:null},class:{type:[String,Function],required:!1},className:{type:[String,Function],required:!1}},render:function(){var e=t.inject(qe,null),o=this.$props,r=o.className,i={checked:this.$props.modelValue},a={id:this.id,ref:null===e?void 0:e.switchRef,role:"switch",tabIndex:0,class:ae(void 0===r?o.class:r,i),"aria-checked":this.$props.modelValue,"aria-labelledby":this.labelledby,"aria-describedby":this.describedby,onClick:this.handleClick,onKeyup:this.handleKeyUp,onKeypress:this.handleKeyPress};return"button"===this.$props.as&&Object.assign(a,{type:"button"}),c({props:n({},this.$props,a),slot:i,attrs:this.$attrs,slots:this.$slots,name:"Switch"})},setup:function(e,n){var o=n.emit,r=t.inject(qe,null);function i(){o("update:modelValue",!e.modelValue)}return{id:"headlessui-switch-"+f(),el:null==r?void 0:r.switchRef,labelledby:null==r?void 0:r.labelledby,describedby:null==r?void 0:r.describedby,handleClick:function(e){e.preventDefault(),i()},handleKeyUp:function(e){e.key!==s.Tab&&e.preventDefault(),e.key===s.Space&&i()},handleKeyPress:function(e){e.preventDefault()}}}}),ze=$e,Qe=U;function Ye(){var e=[],t={requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=requestAnimationFrame.apply(void 0,arguments);t.add((function(){return cancelAnimationFrame(e)}))})),nextFrame:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.requestAnimationFrame((function(){t.requestAnimationFrame.apply(t,n)}))},setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=setTimeout.apply(void 0,arguments);t.add((function(){return clearTimeout(e)}))})),add:function(t){e.push(t)},dispose:function(){for(var t,n=i(e.splice(0));!(t=n()).done;)(0,t.value)()}};return t}function Je(e){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];e&&o.length>0&&(t=e.classList).add.apply(t,o)}function Xe(e){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];e&&o.length>0&&(t=e.classList).remove.apply(t,o)}function Ze(e,t,n,o,r){var i,a,u=Ye(),l=void 0!==r?(i=r,a={called:!1},function(){if(!a.called)return a.called=!0,i.apply(void 0,arguments)}):function(){};return Je.apply(void 0,[e].concat(t,n)),u.nextFrame((function(){Xe.apply(void 0,[e].concat(n)),Je.apply(void 0,[e].concat(o)),u.add(function(e,t){var n=Ye();if(!e)return n.dispose;var o=getComputedStyle(e),r=[o.transitionDuration,o.transitionDelay].map((function(e){var t=e.split(",").filter(Boolean).map((function(e){return e.includes("ms")?parseFloat(e):1e3*parseFloat(e)})).sort((function(e,t){return t-e}))[0];return void 0===t?0:t})),i=r[0];return 0!==i?n.setTimeout((function(){return t(Ue.Finished)}),i+r[1]):t(Ue.Finished),n.add((function(){return t(Ue.Cancelled)})),n.dispose}(e,(function(n){return Xe.apply(void 0,[e].concat(o,t)),l(n)})))})),u.add((function(){return Xe.apply(void 0,[e].concat(t,n,o))})),u.add((function(){return l(Ue.Cancelled)})),u.dispose}function et(e){return void 0===e&&(e=""),e.split(" ").filter((function(e){return e.trim().length>1}))}!function(e){e.Finished="finished",e.Cancelled="cancelled"}(Ue||(Ue={}));var tt,nt=Symbol("TransitionContext");!function(e){e.Visible="visible",e.Hidden="hidden"}(tt||(tt={}));var ot=Symbol("NestingContext");function rt(e){return"children"in e?rt(e.children):e.value.filter((function(e){return e.state===tt.Visible})).length>0}function it(e){var n=t.ref([]),o=t.ref(!1);function r(t,r){var i;void 0===r&&(r=l.Hidden);var u=n.value.findIndex((function(e){return e.id===t}));-1!==u&&(a(r,((i={})[l.Unmount]=function(){n.value.splice(u,1)},i[l.Hidden]=function(){n.value[u].state=tt.Hidden},i)),!rt(n)&&o.value&&(null==e||e()))}return t.onMounted((function(){return o.value=!0})),t.onUnmounted((function(){return o.value=!1})),{children:n,register:function(e){var t=n.value.find((function(t){return t.id===e}));return t?t.state!==tt.Visible&&(t.state=tt.Visible):n.value.push({id:e,state:tt.Visible}),function(){return r(e,l.Unmount)}},unregister:r}}var at=u.RenderStrategy,ut=t.defineComponent({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:["beforeEnter","afterEnter","beforeLeave","afterLeave"],render:function(){return c({props:n({},o(this.$props,["appear","show","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo"]),{ref:"el"}),slot:{},slots:this.$slots,attrs:this.$attrs,features:at,visible:this.state===tt.Visible,name:"TransitionChild"})},setup:function(e,n){var o=n.emit,r=t.ref(null),i=t.ref(tt.Visible),u=t.computed((function(){return e.unmount?l.Unmount:l.Hidden})),s=function(){var e=t.inject(nt,null);if(null===e)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}(),c=s.show,d=s.appear,p=function(){var e=t.inject(ot,null);if(null===e)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}(),v=p.register,m=p.unregister,h={value:!0},b=f(),y={value:!1},g=it((function(){y.value||(i.value=tt.Hidden,m(b),o("afterLeave"))}));t.onMounted((function(){var e=v(b);t.onUnmounted(e)})),t.watchEffect((function(){var e;u.value===l.Hidden&&b&&(c&&i.value!==tt.Visible?i.value=tt.Visible:a(i.value,((e={})[tt.Hidden]=function(){return m(b)},e[tt.Visible]=function(){return v(b)},e)))}));var S=et(e.enter),w=et(e.enterFrom),O=et(e.enterTo),x=et(e.leave),E=et(e.leaveFrom),C=et(e.leaveTo);return t.onMounted((function(){t.watchEffect((function(){if(i.value===tt.Visible){var e=V(r);if(e instanceof Comment&&""===e.data)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}}))})),t.onMounted((function(){t.watch([c,d],(function(e,t,n){!function(e){var t=h.value&&!d.value,n=V(r);n&&n instanceof HTMLElement&&(t||(y.value=!0,c.value&&o("beforeEnter"),c.value||o("beforeLeave"),e(c.value?Ze(n,S,w,O,(function(e){y.value=!1,e===Ue.Finished&&o("afterEnter")})):Ze(n,x,E,C,(function(e){y.value=!1,e===Ue.Finished&&(rt(g)||(i.value=tt.Hidden,m(b),o("afterLeave")))})))))}(n),h.value=!1}),{immediate:!0})})),t.provide(ot,g),{el:r,state:i}}}),lt=t.defineComponent({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:["beforeEnter","afterEnter","beforeLeave","afterLeave"],render:function(){var e=this,r=this.$props,i=r.unmount,a=o(r,["show","appear","unmount"]),u={unmount:i};return c({props:n({},u,{as:"template"}),slot:{},slots:n({},this.$slots,{default:function(){return[t.h(ut,n({},e.$attrs,u,a),e.$slots.default)]}}),attrs:{},features:at,visible:this.state===tt.Visible,name:"Transition"})},setup:function(e){t.watchEffect((function(){if(![!0,!1].includes(e.show))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')}));var n=t.ref(e.show?tt.Visible:tt.Hidden),o=it((function(){n.value=tt.Hidden})),r={value:!0},i={show:t.computed((function(){return e.show})),appear:t.computed((function(){return e.appear||!r.value}))};return t.onMounted((function(){t.watchEffect((function(){r.value=!1,e.show?n.value=tt.Visible:rt(o)||(n.value=tt.Hidden)}))})),t.provide(ot,o),t.provide(nt,i),{state:n}}});e.Dialog=_,e.DialogDescription=Y,e.DialogOverlay=z,e.DialogTitle=Q,e.Disclosure=te,e.DisclosureButton=ne,e.DisclosurePanel=oe,e.FocusTrap=re,e.Listbox=ce,e.ListboxButton=pe,e.ListboxLabel=de,e.ListboxOption=ve,e.ListboxOptions=fe,e.Menu=ge,e.MenuButton=Se,e.MenuItem=Oe,e.MenuItems=we,e.Popover=Pe,e.PopoverButton=Te,e.PopoverGroup=Fe,e.PopoverOverlay=Ie,e.PopoverPanel=Re,e.Portal=j,e.PortalGroup=B,e.RadioGroup=Ke,e.RadioGroupDescription=He,e.RadioGroupLabel=Ge,e.RadioGroupOption=Ve,e.Switch=_e,e.SwitchDescription=Qe,e.SwitchGroup=We,e.SwitchLabel=ze,e.TransitionChild=ut,e.TransitionRoot=lt,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=headlessui.umd.production.min.js.map
